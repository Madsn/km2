<template name="layout">
  <head>
    <title>Kennel Mate</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  </head>
  <body>
    <div class="navbar navbar-default navbar-fixed-top" role="navigation">
      <div class="container-fluid">
        <div class="container">
          <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-responsive-collapse">
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
            </button>
            <i class="navbar-brand glyphicon glyphicon-asterisk"></i>
          </div>
          <div class="navbar-collapse collapse navbar-responsive-collapse">
            <ul class="nav navbar-nav">
              <li class="{{isActiveRoute 'Index'}}">
                {{#linkTo 'Index'}}
                  Index
                {{/linkTo}}
              </li>
              <li class="{{isActiveRoute 'Admin'}}">
                {{#linkTo 'Admin'}}
                  Admin
                {{/linkTo}}
              </li>
              <li class="{{isActiveRoute 'Kenneldash'}}">
                {{#linkTo 'Kenneldash'}}
                  Kennel Dashboard
                {{/linkTo}}
              </li>
              <li class="{{isActiveRoute 'Availability'}}">
                {{#linkTo 'Availability'}}
                  Availability
                {{/linkTo}}
              </li>
              <li class="{{isActiveRoute 'Bookings'}}">
                {{#linkTo 'Bookings'}}
                  Bookings
                {{/linkTo}}
              </li>
            </ul>
            <ul class="nav navbar-nav navbar-right">
              {{> loginButtons}}
            </ul>
          </div>
        </div>
      </div>
    </div>
    <div id="content">
      <button id="addNotification">Test</button>
      {{#if hasReactComponent}}
        <div class="container" style="padding-top: 15px;">
          {{> React component=reactComponent app_data=app_data}}
        </div>
      {{else}}
        <div class="container" style="padding-top: 15px;">
          {{> Template.dynamic template=page}}
        </div>
      {{/if}}
    </div>
    <div class="container">
      <div class="row">
        <div id="footer">
          <div class="col-xs-10">
            <p>&copy; KennelMate 2016</p>
          </div>
          <div class="col-xs-2 text-right">
            <button class="btn btn-info scrollToTop">To Top</button>
          </div>
        </div>
      </div>
    </div>
    <script>
      $(document).on('click.nav','.navbar-collapse.in',function(e) {
        if( $(e.target).is('a') || $(e.target).is('button')) {
          if ($('.navbar-toggle').is(':visible')) {
            $(this).collapse('hide');
          }
        }
      });
      $(document).ready(function(){
        //Check to see if the window is top if not then display button
        $(window).scroll(function(){
          if ($(this).scrollTop() > 100) {
          	$('.scrollToTop').fadeIn();
          } else {
          	$('.scrollToTop').hide();
          }
        });
      
        //Click event to scroll to top
        $('.scrollToTop').click(function(){
          $('html, body').animate({scrollTop : 0},800);
            return false;
        });
      });
    </script>
  </body>
</template>
